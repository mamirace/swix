<!doctype html>

<html
  lang="tr"
  class=" layout-wide  customizer-hide"
  dir="ltr"
  data-skin="default"
  data-bs-theme="light"
  data-assets-path="/assets/"
  data-template="vertical-menu-template">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
    <meta name="robots" content="noindex, nofollow" />
    <title>GiriÅŸ Yap - Swixx Dashboard</title>

    <meta name="description" content="Swixx Dashboard GiriÅŸ SayfasÄ±" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/assets/img/favicon/favicon.ico" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&ampdisplay=swap"
      rel="stylesheet" />

    <link rel="stylesheet" href="/assets/vendor/fonts/iconify-icons.css" />

    <script src="/assets/vendor/libs/@algolia/autocomplete-js.js"></script>

    <!-- Core CSS -->
    <link rel="stylesheet" href="/assets/vendor/libs/node-waves/node-waves.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/pickr/pickr-themes.css" />
    <link rel="stylesheet" href="/assets/vendor/css/core.css" />
    <link rel="stylesheet" href="/assets/css/demo.css" />

    <!-- Vendors CSS -->
    <link rel="stylesheet" href="/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/@form-validation/form-validation.css" />

    <!-- Page CSS -->
    <link rel="stylesheet" href="/assets/vendor/css/pages/page-auth.css" />

    <!-- Custom Styles for Login -->
    <style>
      /* Debug mesajlarÄ±nÄ± gizle */
      body::before {
        content: "";
        display: block;
        height: 0;
        overflow: hidden;
      }
      
      /* PHP debug text'ini gizle */
      body {
        overflow-x: hidden;
      }
      
      .form-control.is-invalid {
        border-color: #dc3545 !important;
        border-width: 2px;
        box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
      }

      .form-control.is-invalid:focus {
        border-color: #dc3545 !important;
        box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
      }

      .input-group .form-control.is-invalid {
        border-color: #dc3545 !important;
      }

      .input-group-merge .form-control.is-invalid {
        border-right: 2px solid #dc3545 !important;
      }

      /* Hata mesajÄ± animasyonu */
      .alert {
        animation: slideDown 0.3s ease-out;
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>

    <!-- Helpers -->
    <script src="/assets/vendor/js/helpers.js"></script>
    <script src="/assets/vendor/js/template-customizer.js"></script>
    <script src="/assets/js/config.js"></script>
  </head>

  <body>
    <!-- Content -->
    <div class="container-xxl">
      <div class="authentication-wrapper authentication-basic container-p-y">
        <div class="authentication-inner py-6">
          <!-- Login -->
          <div class="card">
            <div class="card-body">
              <!-- Logo -->
              <div class="app-brand justify-content-center mb-6">
                <a href="/" class="app-brand-link">
                  <span class="app-brand-logo demo">
                    <img src="/assets/img/branding/logo.png" alt="Swixx Logo" width="32" height="32">
                  </span>
                  <span class="app-brand-text demo text-heading fw-bold">Swixx</span>
                </a>
              </div>
              <!-- /Logo -->
              <h4 class="mb-1">HoÅŸgeldiniz! ğŸ‘‹</h4>
              <p class="mb-6">LÃ¼tfen swixx hesabÄ±nÄ±zla giriÅŸ yapÄ±n</p>

              <form id="formAuthentication" class="mb-4" action="/dashboard" method="POST">
                <div class="mb-6 form-control-validation">
                  <label for="email" class="form-label">E-posta veya KullanÄ±cÄ± AdÄ±</label>
                  <input
                    type="text"
                    class="form-control"
                    id="email"
                    name="email-username"
                    placeholder="E-posta veya kullanÄ±cÄ± adÄ±nÄ±zÄ± girin"
                    autofocus />
                </div>
                <div class="mb-6 form-password-toggle form-control-validation">
                  <label class="form-label" for="password">Åifre</label>
                  <div class="input-group input-group-merge">
                    <input
                      type="password"
                      id="password"
                      class="form-control"
                      name="password"
                      placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;"
                      aria-describedby="password" />
                    <span class="input-group-text cursor-pointer"><i class="icon-base ti tabler-eye-off"></i></span>
                  </div>
                </div>
                <div class="my-8">
                  <div class="d-flex justify-content-between">
                    <div class="form-check mb-0 ms-2">
                      <input class="form-check-input" type="checkbox" id="remember-me" />
                      <label class="form-check-label" for="remember-me"> Beni HatÄ±rla </label>
                    </div>
                    <a href="/sifremi-unuttum">
                      <p class="mb-0">Åifremi Unuttum?</p>
                    </a>
                  </div>
                </div>
                <div class="mb-6">
                  <button class="btn btn-primary d-grid w-100" type="submit">GiriÅŸ Yap</button>
                </div>
              </form>

            </div>
          </div>
          <!-- /Login -->
        </div>
      </div>
    </div>

    <!-- / Content -->

    <!-- Core JS -->
    <script src="/assets/vendor/libs/jquery/jquery.js"></script>
    <script src="/assets/vendor/libs/popper/popper.js"></script>
    <script src="/assets/vendor/js/bootstrap.js"></script>
    <script src="/assets/vendor/libs/node-waves/node-waves.js"></script>
    <script src="/assets/vendor/libs/pickr/pickr.js"></script>
    <script src="/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="/assets/vendor/libs/hammer/hammer.js"></script>
    <script src="/assets/vendor/libs/i18n/i18n.js"></script>
    <script src="/assets/vendor/js/menu.js"></script>

    <!-- Vendors JS -->
    <script src="/assets/vendor/libs/@form-validation/popular.js"></script>
    <script src="/assets/vendor/libs/@form-validation/bootstrap5.js"></script>
    <script src="/assets/vendor/libs/@form-validation/auto-focus.js"></script>

    <!-- Main JS -->
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/pages-auth.js"></script>

    <!-- Login Form Validation Script -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // URL parametrelerinden error durumunu kontrol et
        const urlParams = new URLSearchParams(window.location.search);
        const errorParam = urlParams.get('error');
        const successParam = urlParams.get('login');

        const emailInput = document.getElementById('email');
        const passwordInput = document.getElementById('password');

        // BaÅŸarÄ±lÄ± login kontrolÃ¼
        if (successParam === 'success') {
          console.log('âœ… GiriÅŸ baÅŸarÄ±lÄ±, dashboard\'a yÃ¶nlendiriliyor...');
          setTimeout(function() {
            window.location.href = '/dashboard';
          }, 500);
        }

        // HatalÄ± login kontrolÃ¼
        if (errorParam === 'invalid_credentials') {
          // Input alanlarÄ±nÄ± kÄ±rmÄ±zÄ± yap
          emailInput.classList.add('is-invalid');
          passwordInput.classList.add('is-invalid');
          
          // Hata mesajÄ± gÃ¶ster
          const alertDiv = document.createElement('div');
          alertDiv.className = 'alert alert-danger alert-dismissible fade show';
          alertDiv.role = 'alert';
          alertDiv.innerHTML = `
            <strong>âŒ GiriÅŸ BaÅŸarÄ±sÄ±z!</strong> E-posta veya ÅŸifre yanlÄ±ÅŸ. LÃ¼tfen tekrar deneyiniz.
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          `;
          
          // Formu bul ve alert'i formun Ã¼stÃ¼ne ekle
          const form = document.getElementById('formAuthentication');
          form.parentElement.insertBefore(alertDiv, form);
          
          // Input alanlarÄ±nÄ± temizle
          emailInput.value = '';
          passwordInput.value = '';
          emailInput.focus();

          console.log('âŒ HatalÄ± giriÅŸ - input alanlarÄ± kÄ±rmÄ±zÄ± gÃ¶sterildi');
        }

        // Form submit yapÄ±ldÄ±ÄŸÄ±nda input alanlarÄ±nÄ± temizle (yeni deneme)
        document.getElementById('formAuthentication').addEventListener('submit', function() {
          // Ã–nceki hata gÃ¶stergelerini kaldÄ±r
          emailInput.classList.remove('is-invalid');
          passwordInput.classList.remove('is-invalid');
        });
      });
    </script>
  </body>
</html>